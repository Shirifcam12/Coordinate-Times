<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:b="http://bootsfaces.net/ui">
    <h:head>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"/>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
        <style>
  .fakeimg {
    height: 150px;
    background: #aaa;
  }
  </style>
        <title>Registro</title>
    </h:head>
    <h:body>
 	<nav class="navbar navbar-expand-sm bg-dark navbar-dark">
  		<h:form class="form-inline my-2 my-lg-0" >
                    <h:commandButton class="btn btn-success my-2 my-sm-0" type="submit" action="principal.xhtml?faces-redirect=true" value = "Principal"></h:commandButton>
                   
  	        </h:form>
	  	<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
    		<span class="navbar-toggler-icon"></span>
  		</button>
  		<div class="collapse navbar-collapse" id="collapsibleNavbar">
  	  		<ul class="navbar-nav mr-auto">
      			<li class="nav-item">
        			<a class="nav-link" href="#">Link</a>
      			</li>
      			<li class="nav-item">
        			<a class="nav-link" href="#">Link</a>
    	  		</li>
      			<li class="nav-item">
        			<a class="nav-link" href="#">Link</a>
	      		</li>    
    		</ul>
                    <h:form class="form-inline my-2 my-lg-0" >
                    <p:inputText type="search" value="#{buscarPorTema.nombre}"/>
                         
                            <h:commandButton class="btn btn-warning my-2 my-sm-0" type="submit" action="#{buscarPorTema.buscarTema()}" value="BuscarTema"></h:commandButton>
                    </h:form>
                    <h:form class="form-inline my-2 my-lg-0" >
                    <p:inputText type="search" value="#{buscarPorPerfil.correo}"/>
                         
                            <h:commandButton class="btn btn-warning my-2 my-sm-0" type="submit" action="#{buscarPorPerfil.buscarPerfil()}" value="BuscarPerfil"></h:commandButton>
                    </h:form>
                    <h:form class ="form-inline my-2 my-lg-0">
  			<h:commandButton class="btn btn-success my-2 my-sm-0" type="submit" action="registro.xhtml?faces-redirect=true" value="Registrarse"></h:commandButton>
                        </h:form>
                    <h:form class ="form-inline my-2 my-lg-0">
  			<h:commandButton class="btn btn-success my-2 my-sm-0" type="submit" action="inicio-sesion.xhtml?faces-redirect=true" value="Iniciar Sesión"></h:commandButton>
                        </h:form>
  		</div>  
	</nav>
        <h1>Registrarse</h1> <br/>
        <h:form id="registroForm" enctype="multipart/form-data">
            <table>
                <tr><td>
                        <p:messages id="messages" autoUpdate="true" closable="true" />
                    </td></tr>
            </table>
            <table>
                <tr>
                    <td>Nombre de usuario</td>
                    <td><p:inputText value="#{registerController.user.nombre}"
                                     required="true"
                                     id="Username"
                                     size="40"/></td>
                </tr>
                <tr>
                    <td>Correo electrónico</td>
                    <td><p:inputText value="#{registerController.user.correo}"
                                     required="true"
                                     id="correo"
                                     size="40"/></td>
                </tr>
                <tr>
                    <td>Contraseña</td>
                    <td><p:password value="#{registerController.user.contraseña}"
                          required="true"
                          feedback="true"
                          id="Password"
                          match="ConfirmPassword"
                          placeholder="Contraseña"
                          label="Contraseña"
                          promptLabel="Ingresa una contraseña"
                          weakLabel="Débil"
                          goodLabel="Buena"
                          strongLabel="Fuerte"
                          inline="true"/></td>
                </tr>
                <tr>
                    <td>ConfirmaContraseña</td>
                    <td><p:password value="#{registerController.confirmacionPassword}"
                          required="true"
                          feedback="true"
                          inline="true"
                          id="ConfirmPassword"
                          placeholder="Confirmar contraseña"
                          label="Confirmar contraseña"
                          validatorMessage="Las contraseñas no coinciden"
                          promptLabel="Ingresa una contraseña"
                          weakLabel="Débil"
                          goodLabel="Buena"
                          strongLabel="Fuerte"/></td>
                </tr>
                <tr>
                    <td>Fotografia</td>
                    <td><p:fileUpload value="#{registerController.fotografia}"
                            mode="simple"
                            skinSimple="true"
                            fileUploadListener="#{registerController.fileUploadListener}"/></td>
                </tr>
                <tr>
                    <td colspan="2" align="center">
                        <p:commandButton action="#{registerController.registrar()}"
                                         value="Registrar"
                                         ajax="false"/>
                        <p:commandButton value="Reset"
                                         update="registroForm"
                                         process="@this">
                            <p:resetInput target= "registroForm" />
                        </p:commandButton>
                    </td>
                </tr>
            </table>
            <p:growl id="growl" showDetail="true" autoUpdate="true"/>
        </h:form>
        
    </h:body>
</html>
